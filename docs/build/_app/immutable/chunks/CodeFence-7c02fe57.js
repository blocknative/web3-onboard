import{S as ie,i as ne,s as oe,C as F,U as he,V as fe,a as w,d as p,W,g as L,z as de,E as G,R as J,e as k,k as T,c as C,m as M,b as v,f as V,M as b,t as S,h as I,j as O,q as x,w as ue,x as _e,y as me,P as ge,o as N,B as pe,n as se,p as ae,l as K,ab as ve,$ as be}from"./index-4af071d0.js";import{c as H,g as ye}from"./contexts-e4ffdb2f.js";function we(o){let e,l='<path fill="currentColor" d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"/>',t=[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},o[0]],n={};for(let a=0;a<t.length;a+=1)n=F(n,t[a]);return{c(){e=he("svg"),this.h()},l(a){e=fe(a,"svg",{width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var i=w(e);i.forEach(p),this.h()},h(){W(e,n)},m(a,i){L(a,e,i),e.innerHTML=l},p(a,[i]){W(e,n=de(t,[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},i&1&&a[0]]))},i:G,o:G,d(a){a&&p(e)}}}function ke(o,e,l){return o.$$set=t=>{l(0,e=F(F({},e),J(t)))},e=J(e),[e]}class Ce extends ie{constructor(e){super(),ne(this,e,ke,we,oe,{})}}function Q(o,e,l){const t=o.slice();return t[24]=e[l],t}function X(o){let e,l,t,n,a,i=o[7]&&Z(o),s=o[4]&&$(o);return{c(){e=k("div"),i&&i.c(),l=T(),t=k("div"),n=T(),s&&s.c(),this.h()},l(c){e=C(c,"DIV",{class:!0,style:!0});var h=w(e);i&&i.l(h),l=M(h),t=C(h,"DIV",{class:!0}),w(t).forEach(p),n=M(h),s&&s.l(h),h.forEach(p),this.h()},h(){v(t,"class","flex-1"),v(e,"class","sticky top-0 left-0 z-10 flex items-center rounded-md pt-2 backdrop-blur supports-backdrop-blur:bg-white/60"),V(e,"background-color","var(--kd-code-fence-top-bar-bg)")},m(c,h){L(c,e,h),i&&i.m(e,null),b(e,l),b(e,t),b(e,n),s&&s.m(e,null),a=!0},p(c,h){c[7]?i?i.p(c,h):(i=Z(c),i.c(),i.m(e,l)):i&&(i.d(1),i=null),c[4]?s?(s.p(c,h),h&16&&x(s,1)):(s=$(c),s.c(),x(s,1),s.m(e,null)):s&&(se(),N(s,1,1,()=>{s=null}),ae())},i(c){a||(x(s),a=!0)},o(c){N(s),a=!1},d(c){c&&p(e),i&&i.d(),s&&s.d()}}}function Z(o){let e,l;return{c(){e=k("span"),l=S(o[6]),this.h()},l(t){e=C(t,"SPAN",{class:!0});var n=w(e);l=I(n,o[6]),n.forEach(p),this.h()},h(){v(e,"class","ml-3.5 font-mono text-sm text-gray-300")},m(t,n){L(t,e,n),b(e,l)},p(t,n){n&64&&O(l,t[6])},d(t){t&&p(e)}}}function $(o){let e,l,t=o[11].code.copied+"",n,a,i,s,c,h,u=o[11].code.copy+"",_,d,f,m;return s=new Ce({props:{width:"24",height:"24",class:H(o[5]?"opacity-0":"opacity-100 transition-opacity duration-600 ease-in")}}),{c(){e=k("button"),l=k("div"),n=S(t),i=T(),ue(s.$$.fragment),c=T(),h=k("span"),_=S(u),this.h()},l(g){e=C(g,"BUTTON",{type:!0,class:!0});var y=w(e);l=C(y,"DIV",{class:!0,"aria-hidden":!0,style:!0});var E=w(l);n=I(E,t),E.forEach(p),i=M(y),_e(s.$$.fragment,y),c=M(y),h=C(y,"SPAN",{class:!0});var D=w(h);_=I(D,u),D.forEach(p),y.forEach(p),this.h()},h(){v(l,"class",a=H("text-white absolute top-2.5 right-4 transition-opacity z-10 duration-300 px-2 py-1 rounded-md ease-out text-sm font-mono",o[5]?"opacity-100":"hidden opacity-0")),v(l,"aria-hidden","true"),V(l,"background-color","var(--kd-code-copied-bg-color)"),v(h,"class","sr-only"),v(e,"type","button"),v(e,"class","mr-2 px-2 py-1 hover:text-white")},m(g,y){L(g,e,y),b(e,l),b(l,n),b(e,i),me(s,e,null),b(e,c),b(e,h),b(h,_),d=!0,f||(m=ge(e,"click",o[14]),f=!0)},p(g,y){(!d||y&2048)&&t!==(t=g[11].code.copied+"")&&O(n,t),(!d||y&32&&a!==(a=H("text-white absolute top-2.5 right-4 transition-opacity z-10 duration-300 px-2 py-1 rounded-md ease-out text-sm font-mono",g[5]?"opacity-100":"hidden opacity-0")))&&v(l,"class",a);const E={};y&32&&(E.class=H(g[5]?"opacity-0":"opacity-100 transition-opacity duration-600 ease-in")),s.$set(E),(!d||y&2048)&&u!==(u=g[11].code.copy+"")&&O(_,u)},i(g){d||(x(s.$$.fragment,g),d=!0)},o(g){N(s.$$.fragment,g),d=!1},d(g){g&&p(e),pe(s),f=!1,m()}}}function ee(o){let e,l,t,n=o[9].join(`
`)+"",a,i;return{c(){e=k("pre"),l=S("			"),t=k("div"),a=S(n),i=S(`
		`),this.h()},l(s){e=C(s,"PRE",{class:!0,style:!0});var c=w(e);l=I(c,"			"),t=C(c,"DIV",{class:!0,"aria-hidden":!0});var h=w(t);a=I(h,n),h.forEach(p),i=I(c,`
		`),c.forEach(p),this.h()},h(){v(t,"class","hidden flex-none select-none text-right text-slate-600 992:block"),v(t,"aria-hidden","true"),v(e,"class","absolute top-3.5 left-0 m-0 flex flex-col text-sm leading-[27px]"),V(e,"background-color","transparent"),V(e,"border-radius","0"),V(e,"padding-top","0")},m(s,c){L(s,e,c),b(e,l),b(e,t),b(t,a),b(e,i)},p(s,c){c&512&&n!==(n=s[9].join(`
`)+"")&&O(a,n)},d(s){s&&p(e)}}}function te(o){let e,l=o[9],t=[];for(let n=0;n<l.length;n+=1)t[n]=le(Q(o,l,n));return{c(){e=k("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=C(n,"DIV",{class:!0,"aria-hidden":!0});var a=w(e);for(let i=0;i<t.length;i+=1)t[i].l(a);a.forEach(p),this.h()},h(){v(e,"class","pointer-events-none absolute inset-0 mt-[0.7em] h-full w-full leading-[27px]"),v(e,"aria-hidden","true")},m(n,a){L(n,e,a);for(let i=0;i<t.length;i+=1)t[i].m(e,null)},p(n,a){if(a&9728){l=n[9];let i;for(i=0;i<l.length;i+=1){const s=Q(n,l,i);t[i]?t[i].p(s,a):(t[i]=le(s),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(n){n&&p(e),ve(t,n)}}}function Ee(o){let e;return{c(){e=k("br")},l(l){e=C(l,"BR",{})},m(l,t){L(l,e,t)},d(l){l&&p(e)}}}function Le(o){let e,l;return{c(){e=k("div"),l=S(`\xA0
            `),this.h()},l(t){e=C(t,"DIV",{class:!0,style:!0});var n=w(e);l=I(n,`\xA0
            `),n.forEach(p),this.h()},h(){v(e,"class","w-full border-l-[5px] font-mono text-transparent"),V(e,"border-color","var(--kd-code-highlight-border)"),V(e,"background-color","var(--kd-code-highlight-color)")},m(t,n){L(t,e,n),b(e,l)},d(t){t&&p(e)}}}function le(o){let e,l;function t(i,s){return s&1536&&(e=null),e==null&&(e=!!i[13](i[24],i[10])),e?Le:Ee}let n=t(o,-1),a=n(o);return{c(){a.c(),l=K()},l(i){a.l(i),l=K()},m(i,s){a.m(i,s),L(i,l,s)},p(i,s){n!==(n=t(i,s))&&(a.d(1),a=n(i),a&&(a.c(),a.m(l.parentNode,l)))},d(i){a.d(i),i&&p(l)}}}function He(o){let e,l,t,n,a,i,s,c,h,u=o[8]&&X(o),_=o[3]&&ee(o),d=o[10].length>0&&te(o);return{c(){e=k("div"),u&&u.c(),l=T(),t=k("div"),n=k("div"),i=T(),_&&_.c(),s=T(),d&&d.c(),this.h()},l(f){e=C(f,"DIV",{class:!0,style:!0});var m=w(e);u&&u.l(m),l=M(m),t=C(m,"DIV",{class:!0});var g=w(t);n=C(g,"DIV",{class:!0});var y=w(n);y.forEach(p),i=M(g),_&&_.l(g),s=M(g),d&&d.l(g),g.forEach(p),m.forEach(p),this.h()},h(){v(n,"class",a=H(o[3]&&"pl-10")),v(t,"class","code relative z-0 overflow-hidden"),v(e,"class",c=H("code-fence overflow-y-auto relative max-h-[60vh] 576:max-h-[32rem] my-8 rounded-md shadow-lg mx-auto","border border-gray-divider",o[0]&&`lang-${o[0]}`,o[1]&&`ext-${o[1]}`)),V(e,"background-color","var(--kd-code-fence-bg)")},m(f,m){L(f,e,m),u&&u.m(e,null),b(e,l),b(e,t),b(t,n),n.innerHTML=o[2],b(t,i),_&&_.m(t,null),b(t,s),d&&d.m(t,null),h=!0},p(f,[m]){f[8]?u?(u.p(f,m),m&256&&x(u,1)):(u=X(f),u.c(),x(u,1),u.m(e,l)):u&&(se(),N(u,1,1,()=>{u=null}),ae()),(!h||m&4)&&(n.innerHTML=f[2]),(!h||m&8&&a!==(a=H(f[3]&&"pl-10")))&&v(n,"class",a),f[3]?_?_.p(f,m):(_=ee(f),_.c(),_.m(t,s)):_&&(_.d(1),_=null),f[10].length>0?d?d.p(f,m):(d=te(f),d.c(),d.m(t,null)):d&&(d.d(1),d=null),(!h||m&3&&c!==(c=H("code-fence overflow-y-auto relative max-h-[60vh] 576:max-h-[32rem] my-8 rounded-md shadow-lg mx-auto","border border-gray-divider",f[0]&&`lang-${f[0]}`,f[1]&&`ext-${f[1]}`)))&&v(e,"class",c)},i(f){h||(x(u),h=!0)},o(f){N(u),h=!1},d(f){f&&p(e),u&&u.d(),_&&_.d(),d&&d.d()}}}function Ve(o,e,l){let t,n,a,i,s,c,h,{lang:u=null}=e,{ext:_=null}=e,{code:d=null}=e,{rawCode:f=null}=e,{title:m=null}=e,{linesCount:g=((d==null?void 0:d.match(/"line"/g))||[]).length}=e,{showLineNumbers:y=!1}=e,{highlightLines:E=[]}=e,{showCopyCode:D=!1}=e,{copyHighlightOnly:P=!1}=e,{copySteps:z=!1}=e;const U=ye();be(o,U,r=>l(11,h=r));let A=1,j=[];const Y=(r,B)=>t.some(([q,ce])=>r>=q&&r<=ce);let R=!1;async function re(){try{const r=t.length>0&&(P||z)?a.split(`
`).filter((B,q)=>Y(q+1)).join(`
`):a;await navigator.clipboard.writeText(r)}catch{}if(l(5,R=!0),z){const r=A+1,B=E.length>0?E.length:n.length;l(21,A=r>B?1:r)}}return o.$$set=r=>{"lang"in r&&l(0,u=r.lang),"ext"in r&&l(1,_=r.ext),"code"in r&&l(2,d=r.code),"rawCode"in r&&l(15,f=r.rawCode),"title"in r&&l(16,m=r.title),"linesCount"in r&&l(17,g=r.linesCount),"showLineNumbers"in r&&l(3,y=r.showLineNumbers),"highlightLines"in r&&l(18,E=r.highlightLines),"showCopyCode"in r&&l(4,D=r.showCopyCode),"copyHighlightOnly"in r&&l(19,P=r.copyHighlightOnly),"copySteps"in r&&l(20,z=r.copySteps)},o.$$.update=()=>{var r;o.$$.dirty&3407872&&z&&l(22,j=[(r=E[A-1])!=null?r:[A,A]]),o.$$.dirty&5505024&&l(10,t=z?j:E),o.$$.dirty&131072&&l(9,n=[...Array(g-1).keys()].map(B=>B+1)),o.$$.dirty&32768&&(a=f==null?void 0:f.replace(/&#8203/g,"")),o.$$.dirty&32&&R&&setTimeout(()=>{l(5,R=!1)},400),o.$$.dirty&65552&&l(8,i=m||D),o.$$.dirty&65538&&l(7,s=m||_),o.$$.dirty&65538&&l(6,c=m!=null?m:_==="sh"?"terminal":_)},[u,_,d,y,D,R,c,s,i,n,t,h,U,Y,re,f,m,g,E,P,z,A,j]}class Se extends ie{constructor(e){super(),ne(this,e,Ve,He,oe,{lang:0,ext:1,code:2,rawCode:15,title:16,linesCount:17,showLineNumbers:3,highlightLines:18,showCopyCode:4,copyHighlightOnly:19,copySteps:20})}}export{Se as C};
